window.__JASS_DATA="undefined"!=typeof window.__JASS_DATA?window.__JASS_DATA:{},window.__JASS="undefined"!=typeof window.__JASS&&"undefined"!=typeof window.__JASS.reload&&window.__JASS.reload===!0?window.__JASS_STALE=window.__JASS:function(){"use strict";var e={client:{build:"",provided:{ffid:0,dim:{h:0,w:0}},dimensions:{x:0,y:0},fullUserAgent:"",isMobile:!1,isDesktop:!0,isTablet:!1,mobile:!0,platform:!1,reload:!1,ua:!1,useragent:""},content:{functions:{JSON:{parse:null,stringify:null},window:{setInterval:null,setTimeout:null},xhr:{open:null,send:null}},timers:[]},debug:{EVENT_COUNT:0,EVENT_LIMIT:1e3},jass:{ajax:{call:{failure:[400,401,403,405,413,418,500],success:[200,201,202,203,204]},report:{domain:"",host:"",hostname:"",path:{agent:"/jass/agent",fix:"/jass/fix",notify:"/jass/notify"},protocol:""}},env:{cooties:{links:7,disable:!1},events:{document:{contents:[],ready:!1},window:{load:!1}},log:{level:3,timestamp:!0},misc:{IDLength:6,libLoadTries:0,libLoadWaitLimit:10},params:{},prefix:"",ref:{},stats:{timestamps:{up:0}},state:{be:!1,branch:{flexSlider:!1,socialPlugins:!1},debug:0,dev:!1,fix:!1,fixes:{headCode:!1,headDomain:!1,code:!1,domain:!1},halt:!1,local:!1,nocall:!1,nofix:!1,nonotify:!1,reportUA:!1,stopgap:!1,test:!1,unittest:!1},stopgap:{enable:!1,eventCount:0,eventLimit:500,tick:{interval:1},track:{enable:!1,threshold:4}},throttle:{duration:60,maxErrors:100,maxNotifications:100},tick:{luck:1e-4,baseInterval:1},types:[],timestamp:0,version:"1.0.0-beta"},fixes:{codeLoaded:!1,domainLoaded:!1},report:{events:["animationEnd","animationIteration","animationStart","CSSTransitionEnd","DOMNodeInserted","DOMNodeRemoved","DOMSubtreeModified","setInterval","setTimeout","transitionEnd","XMLHttpRequest_open","XMLHttpRequest_send"],sampleRate:.01},requests:{errors:{},notifications:[],notificationsArchive:[],throttle:{throttled:!1,up:0},tick:{interval:0}}}},t=location&&location.hostname?document.querySelectorAll.bind(document):function(){n.log("phantomjs")};Node.prototype.on=window.on=function(e,t){this.addEventListener(e,t)},NodeList.prototype.__proto__=Array.prototype,NodeList.prototype.on=NodeList.prototype.addEventListener=function(e,t){this.forEach(function(n){n.on(e,t)})};{var n=function(){var t=e.jass.env.log.level,n=function(e,t){try{return console.log(c()+" [head]"+[" [EROR] "," [WARN] "," [LOG ] "," [INFO] "," [DBUG] "][t]+e)}catch(n){return!1}},o=function(e){return s(e,4)},i=function(e){return s(e,0)},r=function(e){return s(e,3)},s=function(e,o){var o="undefined"==typeof o?2:o>4?4:o;return-1===t?0===o&&n(e,0):t>=o&&n(e,o)},a=function(e){t=e},c=function(){return e.jass.env.log.timestamp===!0?(new Date).toJSON():""},d=function(e){return s(e,1)};return{debug:o,error:i,info:r,log:s,loglevel:a,warn:d}}(),o=function(){var e={},t=function(){e={}},n=function(t,n,o){if(e[t])for(var i=e[t],r=i.length,s=0;r>s;s++)i[s].apply(o||this,n||[])},o=function(t,n){return e[t]||(e[t]=[]),e[t].push(n),[t,n]},i=function(t,n){var o=t[0],i=e[o].length;if(e[o])for(var r=0;i>r;r++)e[o][r]===t&&(e[o].splice(e[o][r],1),n&&delete e[o])};return{flush:t,pub:n,sub:o,unsub:i}}(),i={client:{getClientUserAgent:function(){var t="";try{e.client.fullUserAgent=t=s.ua.getResult().ua.toLowerCase()}catch(o){n.error("Error retrieving user agent: "+o.message),t="unknown"}if(e.client.data=s.ua.getResult(),e.client.useragent=e.client.ua=e.client.data.ua,e.client.isMobile=!1,e.client.isTablet=!1,e.client.isDesktop=!0,e.client.isPhantom=!1,"mobile"===e.client.data.device.type&&(e.client.ffid=2,e.client.isMobile=!0,e.client.isTablet=!1,e.client.isDesktop=!1),"tablet"===e.client.data.device.type&&(e.client.ffid=3,e.client.isMobile=!1,e.client.isTablet=!0,e.client.isDesktop=!1),""!==location.hostname&&"undefined"==typeof window.mochaPhantomJS&&(e.client.isPhantom=!0),e.client.dimensions=i.client.getUserAgentDimensions(),e.client.provided.ffid=i.jass.data.read("ffId"),e.client.provided.dim=i.jass.data.read("dim"),!e.client.isPhantom&&2===e.client.provided.ffid||3===e.client.provided.ffid||1===e.client.provided.ffid||"undefined"==typeof e.client.provided.ffid&&(e.client.isMobile||e.client.isTablet||e.client.isDesktop)){n.debug("Caching client browser dimensions...");var r="undefined"!=typeof e.client.provided.ffid?e.client.provided.ffid:"undefined"!=typeof e.client.ffid?e.client.ffid:e.client.isMobile?2:e.client.isTablet?3:1;if(i.util.setCookie("ezds",encodeURIComponent("ffid="+r+",w="+e.client.dimensions.w+",h="+e.client.dimensions.h),220752e3),1===e.client.provided.ffid||e.client.isDesktop){var a=i.client.getUnreliableClientWidth();i.util.setCookie("ezohw",encodeURIComponent("w="+a.w+",h="+a.h),220752e3)}if("undefined"==typeof e.client.provided.ffid&&"undefined"==typeof e.client.provided.dim)e.jass.env.state.reportUA=!0;else if("undefined"!=typeof e.client.provided.ffid&&"undefined"!=typeof e.client.provided.dim&&(2===e.client.provided.ffid||3===e.client.provided.ffid||1===e.client.provided.ffid||e.client.isMobile||e.client.isTablet||e.client.isDesktop)){if("Android"===e.client.data.os.name&&parseFloat(e.client.data.os.version)<3)return!1;for(var c=!1,d=0,l=i.jass.data("dim").length;l>d;d++){var u=i.jass.data("dim")[d];u.w===e.client.dimensions.w&&u.h===e.client.dimensions.h&&(c=!0),(e.client.isDesktop||1===e.client.ffid)&&u.h===e.client.dimensions.w&&u.w===e.client.dimensions.h&&(c=!0)}c||i.content.reportDimensions()}}},getLocation:function(t){var n=i.util.base64.decode,o=i.util.base64.encode,r=document.createElement("a");r.href=t,i.client.isIE()&&""===r.host&&(r.href=r.href);var s=!1;if((e.jass.env.state.test||e.jass.env.state.local)&&"undefined"!=typeof e.jass.env.params.testurl){var a=e.jass.env.params.testurl.match(/^(?:http[%2F3A]+)?(?:www\.)?([-.a-zA-Z0-9]+)/);s=null!=a?a[1]:!1}var c=r.hostname&&r.hostname.match(/^(?:www\.)?([-.a-zA-Z0-9]+)/),d=e.jass.ajax.report.domain=s===!1&&"undefined"!=typeof c&&"undefined"!=typeof c.length&&c.length>0&&"undefined"!=typeof c[1]?c[1]:s;i.jass.isJSIntegrated()&&(r.hostname=n("Zy5lem9pYy5uZXQ="));var l=null;return l="localhost:8080"===location.host||e.jass.env.state.local?"localhost:3000":e.jass.env.state.test||e.jass.env.state.local?n("MTkyLjE2OC41Ni4xMDE6MzAwMA=="):"MTA3LjIwLjE2Mi4xNzQ="===o(d)?n("MTA3LjIwLjE2Mi4xNzQ6MzAwMA=="):"dGVzdGJveC5lem9pYy5jb20="===o(d)?n("dGVzdGJveC5lem9pYy5jb206MzAwMA=="):location.host,e.jass.ajax.report.hostname=e.jass.env.state.local?"localhost":location.hostname,e.jass.ajax.report.protocol="https:"===location.protocol?"https:":"http:",e.jass.ajax.report.host=l,e.jass.ajax.report.port=e.jass.env.state.local?"3000":location.port,e.jass.ajax.report.href=location.href,e.jass.ajax.report.get=e.jass.ajax.report.protocol+"//"+e.jass.ajax.report.host,!0},getPrefix:function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:n,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}},getUnreliableClientWidth:function(){return{h:window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,w:window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth}},getUserAgentDimensions:function(){var t=window.screen.width,n=window.screen.height;return{w:e.client.isDesktop||1===e.client.ffid?t:n>t?t:n,h:e.client.isDesktop||1===e.client.ffid?n:n>t?n:t}},isChrome:function(){return"undefined"==typeof e.client.data?!1:e.client.data.browser.name.toLowerCase().indexOf("chrome")>-1?!0:!1},isDesktop:function(){return e.client.isDesktop},isFirefox:function(){return"undefined"==typeof e.client.data?!1:e.client.data.browser.name.toLowerCase().indexOf("firefox")>-1?!0:!1},isIE:function(){return"undefined"==typeof e.client.data?!1:e.client.data.browser.name.toLowerCase().indexOf("ie")>-1?!0:!1},isMobile:function(){return e.client.isMobile},isTablet:function(){return e.client.isTablet}},content:{addCSSRule:function(e,t){var n="";if("string"!=typeof e||"undefined"==typeof t)throw new Error("jass.addCSSRule(): incorrect parameters!");if(i.util.isArray(t))for(var o=0,r=t.length;r>o;o++)n+=t[o].join("\n");else{if("string"!=typeof t)throw new Error("jass.addCSSRule(): incorrect parameters!");n=t.split(";").join(";\n")}var s=document.createElement("style");s.appendChild(document.createTextNode("")),document.head.appendChild(s);var a=s.sheet;return"insertRule"in a?(a.insertRule(e+" {"+n+"}",0),!0):(s.innerHTML=e+" {"+n+"}",!0)},addImportant:function(e,t,n){if(i.util.isEmpty(e)||"undefined"==typeof t||"undefined"==typeof n||i.util.isEmpty(e.css(t)))throw new Error("jass.addImportant(): incorrect parameters!");e.css(t,"");var o=e.attr("style");return e.attr("style",t+":"+n+" !important; "+o),!0},cloneStyle:function(e,t){return i.content.cloneAttribute(e,t,"style"),!0},collision:function(e,t,n){var n="number"==typeof n?n:0,o={},r={},s=["noop","top","left","bottom","right"],a={noop:function(e){return e},top:function(e,t){return e-=t},left:function(e,t){return e-=t},bottom:function(e,t){return e+=t},right:function(e,t){return e+=t}};if(0===n)return o=i.content.getDimensions(e),r=i.content.getDimensions(t),i.content.intersects(o,r);for(var c=!1,d=0,l=s.length;l>d;d++){o=i.content.getDimensions(e),o.bcr[s[d]]=a[s[d]](o.bcr[s[d]],n);for(var u=0,l=s.length;l>u;u++)r=i.content.getDimensions(t),r.bcr[s[u]]=a[s[u]](r.bcr[s[u]],n),i.content.intersects(o,r)&&(c=!0)}return c},createElement:function(e,t,n){if("string"!=typeof e||"object"!=typeof t||!(n instanceof HTMLElement))throw new Error("jass.content.createElement(): incorrect parameters!");var o=document.createElement(e);for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o.callback&&(o.readyState?o.onreadystatechange=function(){("loaded"===o.readyState||"complete"===o.readyState)&&(o.onreadystatechange=null,o.callback())}:o.onload=function(){o.callback()}),n.appendChild(o),!0},findText:function(){return null},findSocial:function(){return null},getAllStyles:function(e){if(!i.util.isJQueryObject(e))throw new Error("jass.content.getAllStyles(): incorrect parameters!");var t=document.styleSheets,n={};for(var o in t){var r=t[o].rules||t[o].cssRules;for(var s in r)e.is(r[s].selectorText)&&(n=i.util.extend(n,i.util.css2json(r[s].style),i.util.css2json(e.attr("style"))))}return n},getArea:function(e){return i.content.isDefined(e)?i.content.getWidth()*i.content.getHeight():null},getDimensions:function(e){var t={ch:"clientHeight",cl:"clientLeft",ct:"clientTop",cw:"clientWidth",oh:"offsetHeight",ol:"offsetLeft",ot:"offsetTop",ow:"offsetWidth",sh:"scrollHeight",sl:"scrollLeft",st:"scrollTop",sw:"scrollWidth"},n={};if(e.id&&(n.id=e.id),e.className&&(n.className=e.className),e.localName&&(n.localName=e.localName),e[t.ch]&&(n[t.ch]=e[t.ch]),e[t.cl]&&(n[t.cl]=e[t.cl]),e[t.ct]&&(n[t.ct]=e[t.ct]),e[t.cw]&&(n[t.cw]=e[t.cw]),e[t.oh]&&(n[t.oh]=e[t.oh]),e[t.ol]&&(n[t.ol]=e[t.ol]),e[t.ot]&&(n[t.ot]=e[t.ot]),e[t.ow]&&(n[t.ow]=e[t.ow]),e[t.sh]&&(n[t.sh]=e[t.sh]),e[t.sl]&&(n[t.sl]=e[t.sl]),e[t.st]&&(n[t.st]=e[t.st]),e[t.sw]&&(n[t.sw]=e[t.sw]),e.style){var o={},i=e.style;i.height&&(o.height=i.height),i.left&&(o.left=i.left),i.top&&(o.top=i.top),i.width&&(o.width=i.width),n.style=o}if(n.noop=0,e.getBoundingClientRect){n.bcr=n.boundingClientRect={};var r=e.getBoundingClientRect();n.bcr.top=r.top,n.bcr.bottom=r.bottom,n.bcr.left=r.left,n.bcr.right=r.right,n.bcr.height=r.height,n.bcr.width=r.width}if(e.getClientRects){n.cr=n.clientRect={};var s=e.getClientRects();n.cr.top=s.top,n.cr.bottom=s.bottom,n.cr.left=s.left,n.cr.right=s.right,n.cr.height=s.height,n.cr.width=s.width}return n},getHeight:function(e){if("undefined"==typeof e||!(e instanceof HTMLElement))throw new Error("jass.content.getHeight(): incorrect parameters! expecting element");var t=e.getBoundingClientRect();return i.content.isDefined(e)?t.bottom-t.top:null},getWidth:function(e){if("undefined"==typeof e||!(e instanceof HTMLElement))throw new Error("jass.content.getHeight(): incorrect parameters! expecting element");var t=e.getBoundingClientRect();return i.content.isDefined(e)?t.right-t.left:null},intersects:function(e,t){var n=e.style,o=t.style;return i.content.isDefined(n)&&i.content.isDefined(o)&&(n.top<=o.top&&o.top<=n.bottom||n.top<=o.bottom&&o.bottom<=n.bottom||o.top<=n.top&&n.bottom<=o.bottom)&&(n.left<=o.left&&o.left<=n.right||n.left<=o.right&&o.right<=n.right||o.left<=n.left&&n.right<=o.right)?!0:!1},isDefined:function(e){if("undefined"==typeof e)throw new Error("jass.content.isDefined(): incorrect parameters!");return null===e||null===e.top||null===e.right||null===e.bottom||null===e.left?!1:!0},isOverflowing:function(e){if(null===e)return!1;var t=e.style.overflow;t&&"visible"!==t||(e.style.overflow="hidden");var n=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight;return e.style.overflow=t,n},onElementByClassName:function(e,t){if("string"!=typeof e||"function"!=typeof t)throw new Error("jass.content.onElementByClassName(): incorrect parameters!");return i.util.event.on("DOMNodeInserted",function(n){if(n&&n.target&&n.target.className&&String.prototype.indexOf.call(n.target.className,e)>-1)for(var o=n.target.className.split(" "),i=0,r=o.length;r>i;i++)if(o[i]===e)return"function"==typeof t&&t(n)}),!0},onElementById:function(e,t){if("string"!=typeof e||"function"!=typeof t)throw new Error("jass.content.onElementById(): incorrect parameters!");return i.util.event.on("DOMNodeInserted",function(n){return n&&n.target&&n.target.id&&n.target.id===e?"function"==typeof t&&t(n):void 0}),!0},preventElementByClassName:function(e){if("string"!=typeof e)throw new Error("jass.content.preventElementByClassName(): incorrect parameters!");return i.util.event.on("DOMNodeInserted",function(t){if(t&&t.target&&t.target.className&&String.prototype.indexOf.call(t.target.className,e)>-1)for(var n=t.target.className.split(" "),o=0,i=n.length;i>o;o++)n[o]===e&&t.target.parentNode&&t.target.parentNode.removeChild(t.target)}),!0},preventElementById:function(e){if("string"!=typeof e)throw new Error("jass.content.preventElementById(): incorrect parameters!");return i.util.event.on("DOMNodeInserted",function(t){t&&t.target&&t.target.id&&t.target.id===e&&t.target.parentNode&&t.target.parentNode.removeChild(t.target)}),!0},reportDimensions:function(t){if("undefined"!=typeof window.__JASS_DATA.reported&&!window.__JASS_DATA.reported)return!1;window.__JASS_DATA.reported=!0;var o=e.jass.ajax.report.get+e.jass.ajax.report.path.agent,r=i.jass.data.read("ffId");r="undefined"!=typeof r?r:e.client.ffid;var s="?agent="+encodeURI(e.client.fullUserAgent)+"&w="+encodeURI(e.client.dimensions.w)+"&h="+encodeURI(e.client.dimensions.h)+"&ffid="+encodeURI(r);return e.jass.env.state.noagent?!0:i.jass.ajax("GET",o+s,null,{failure:function(e,o){return n.debug("reportDimensions(): Failed! ("+e+") ["+o+"]"),"function"==typeof t&&t()},success:function(e,o){return n.debug("reportDimensions(): Received response ("+e+") ["+o+"]"),"function"==typeof t&&t()}})},removeElementByClassName:function(e){if("string"!=typeof e)throw new Error("jass.content.removeElementByClassName(): incorrect parameters!");for(var t=document.getElementsByClassName(e),n=!1,o=0,i=t.length;i>o;o++)n=!0,t[o].parentNode.removeChild(t[o]);return n},removeElementById:function(e){if("string"!=typeof e)throw new Error("jass.content.removeElementById(): incorrect parameters!");var t=document.getElementsById(e);return null!==t&&"undefined"!=typeof t.parentNode&&t.parentNode.removeChild(t)},serialize:function(e){if("undefined"==typeof e)throw new Error("jass.content.serialize(): incorrect parameters!");var t={};return e.localName&&(t=i.content.getDimensions(e),e.name&&(t.name=e.name),e.onclick&&(t.onclick=e.onclick),e.onfocus&&(t.onfocus=e.onfocus),e.outerHTML&&(t.outerHTML=e.outerHTML),e.tagName&&(t.tagName=e.tagName)),t}},jass:{admin:{close:function(){return n.log("Client forceupdate initiated! Closing out object..."),e.client.reload=!0,window.setInterval=e.content.functions.window.setInterval,window.setTimeout=e.content.functions.window.setTimeout,XMLHttpRequest.prototype.open=e.content.functions.xhr.open,XMLHttpRequest.prototype.send=e.content.functions.xhr.send,o.pub("/action/forceupdate/this/close/done",[])},die:function(){return n.log("Kill switch activated! This page will not be processed by JASS (head or tail). Dying..."),o.flush(),!1},kill:function(){return n.debug("----<( destroying previous JASS object )>----"),delete window.__JASS_STALE&&o.pub("/action/forceupdate/kill/done",[])},load:function(e){var e=typeof e===!0?!0:!1;n.log(e?"Loading development script...":"Loading updated script...");var t=document.getElementById("jass-head-entry-point");return t.parentNode.removeChild(t),i.content.createElement("script",{callback:function(){return e?!0:o.pub("/action/forceupdate/that/load/done",[])},id:"jass-head-entry-point",src:e?"jass/jass.head.dev.js":"jass/jass.head.js",type:"text/javascript"},document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]),!0}},ajax:function(t,i,r,s){var s="object"==typeof s?s:{};if(e.jass.requests.throttle.throttled)return"function"==typeof s.callback?s.callback():null;if(!e.jass.env.state.nocall){var r="object"==typeof r?e.content.functions.JSON.stringify(r):null,a=new XMLHttpRequest;e.content.functions.xhr.open.apply(a,[t,i,!0]),a.onreadystatechange=function(){return 4===a.readyState&&e.jass.ajax.call.success.indexOf(a.status)>-1?(n.debug(t+" successful!"),s.success&&"function"==typeof s.success&&s.success(a.status,a.responseText)):4===a.readyState&&e.jass.ajax.call.failure.indexOf(a.status)>-1?418===a.status?o.pub("/action/forceupdate/init",[a.responseText]):(o.pub("/action/request/response",[a.status]),n.debug(t+" failed!"),s.failure&&"function"==typeof s.failure&&s.failure(a.status,a.responseText)):void 0},e.content.functions.xhr.send.apply(a,[r])}return"function"==typeof s.callback&&s.callback()},data:{data:function(e,t){if("string"!=typeof e)throw new Error("jass.data.data(): incorrect parameters! expecting string");return i.jass.data.init(),"undefined"==typeof t?i.jass.data.read(e):i.jass.data.write(e,t)},find:function(e){if("undefined"==typeof e)throw new Error("jass.data.find(): incorrect parameters! expecting a parameter");var t=window.__JASS_DATA,n=[];for(var o in t)t.hasOwnProperty(o)&&t[o]===e&&n.push(o);return n.length>0?n:!1},flush:function(){return window.__JASS_DATA={},!0},init:function(){return"undefined"==typeof window.__JASS_DATA?i.jass.data.flush():!1},read:function(e){if("string"!=typeof e)throw new Error("jass.data.read(): incorrect parameters! expecting string");return i.jass.data.init(),"undefined"!=typeof window.__JASS_DATA[e]?window.__JASS_DATA[e]:void 0},remove:function(e){if("string"!=typeof e)throw new Error("jass.data.remove(): incorrect parameters! expecting string");return i.jass.data.init(),"undefined"!=typeof window.__JASS_DATA[e]?delete window.__JASS_DATA[e]:!1},write:function(e,t){if("string"!=typeof e)throw new Error("jass.data(): incorrect parameters");return window.__JASS_DATA[e]&&"undefined"==typeof t?!1:(i.jass.data.init(),window.__JASS_DATA[e]=t||null)}},extend:function(){throw new Error("jass.extend(): not yet implemented")},getFixes:function(t,o,r){if("undefined"==typeof t)return!1;if("headDomain"!==t&&"headCode"!==t)return!1;var s=e.jass.ajax.report.get+e.jass.ajax.report.path.fix,a={type:t,url:e.jass.ajax.report.hostname};"string"!=typeof o&&(o=a.url),a[t]=o;var c="?"+t+"="+encodeURI(o)+"&type="+encodeURI(a.type)+"&url="+encodeURI(a.url);return e.jass.env.state.nofix?!1:i.jass.ajax("GET",s+c,null,{failure:function(e){return n.error("getFixes(): Unable to retrieve fixes ("+e+" received)!"),"function"==typeof r&&r()},success:function(e,t){return 204===e?"function"==typeof r&&r():"function"==typeof r&&r(t)}})},isJSIntegrated:function(){var e=document.getElementById("jass-head-entry-point");return e&&e.src?e.src.indexOf("g.ezoic.net")>-1:!1},message:function(e,t){if("string"!=typeof e)return!1;for(var o=0,i=[],r=arguments.length;r>o;o++)i[o]=arguments[o];switch(e){case"exec":return n.debug("received exec message. running payload..."),t(i.slice(2));default:n.debug("received unhandled message")}},react:function(e,t){return"DOMNodeInserted"===t.jassEventName?o.pub("/action/client/on/DOMNodeInserted",[t]):"DOMNodeRemoved"===t.jassEventName?o.pub("/action/client/on/DOMNodeRemoved",[t]):"DOMSubtreeModified"===t.jassEventName?o.pub("/action/client/on/DOMSubtreeModified",[t]):"setInterval"===t.jassEventName?o.pub("/action/client/on/setInterval",[t]):"setTimeout"===t.jassEventName&&o.pub("/action/client/on/setTimeout",[t]),!0},source:function(){return!0},throttle:function(t){return"undefined"!=typeof e.jass.requests.errors[t]?e.jass.requests.errors[t]++:e.jass.requests.errors[t]=1,e.jass.requests.errors[t]>=e.jass.env.throttle.maxErrors?(e.jass.requests.throttle.throttled=!0,e.jass.requests.throttle.up=e.jass.env.timestamp):!1},trigger:function(t,i,r){var s=e.jass.ajax.report.hostname;if(e.jass.env.state.stopgap){if(e.jass.env.stopgap.enable)return 100===e.jass.env.stopgap.eventCount&&n.debug("circular logic stopgap initiated, dumping event..."),t.stopPropagation?t.stopPropagation():t.cancelBubble&&(t.cancelBubble=!0),t.preventDefault&&t.preventDefault(),!1;100===e.jass.env.stopgap.eventCount&&n.debug("(stopgap) total:["+e.jass.env.stopgap.eventCount+"] stopgapped:["+e.jass.env.stopgap.enable+"]"),e.jass.env.stopgap.track&&e.jass.env.stopgap.eventCount++}return o.pub("/action/trigger/"+t.jassEventName,[s,t,i])}},util:{addEvent:function(e,t,n){if("object"!=typeof e||"string"!=typeof t||"function"!=typeof n)throw new Error("jass.util.addEvent(): incorrect parameters!");if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent)return e.attachEvent("on"+t,n);throw new Error("JASS: The element ("+e+") does not support the event ("+t+")!")},base64:{decode:function(e){if("string"!=typeof e)throw new Error("jass.util.base64.decode(): incorrect parameters!");try{return window.atob(e)}catch(t){return n.error("base64(): Either the client does not support atob/btoa, or the client attempted to operate on unsuported data (probably unicode)"),!1}},encode:function(e){if("string"!=typeof e)throw new Error("jass.util.base64.decode(): incorrect parameters!");try{return window.btoa(e)}catch(t){return n.error("base64(): Either the client does not support atob/btoa, or the client attempted to operate on unsuported data (probably unicode)"),!1}}},compareArrays:function(e,t,n){if(!i.util.isArray(e)||!i.util.isArray(t))throw new Error("jass.util.compareArrays(): incorrect parameters! expecting arrays");var n="number"!=typeof n?.5:n;if(0===e.length||0===t.length)return!1;for(var o=e.length>t.length?e:t,r=e.length>t.length?t:e,s=0,a=0,c=r.length;c>a;a++)for(var d=0,l=o.length;l>d;d++)if(r[a]===o[a]){s++;break}return s/r.length>n?!0:!1},css2json:function(e){var t={};if("undefined"==typeof e)return t;if(e instanceof CSSStyleDeclaration)for(var n in e)null!==e[n]&&"number"!=typeof n&&e[n].toLowerCase&&(t[e[n].toLowerCase()]=e[e[n]]);else if("string"==typeof e){e=e.split("; ");for(var n in e){var o=e[n].split(": ");t[o[0].toLowerCase()]=o[1]}}return t},deepEqual:function(e,t){if("undefined"==typeof e||"undefined"==typeof t)throw new Error("jass.util.deepEqual(): incorrect parameters!");var n,o,r,s,a;if(e===t)return!0;if(n=null===e?"null":typeof(e=e?e.valueOf():e),o=null===t?"null":typeof(t=t?t.valueOf():t),n!==o)return!1;switch(n){case"string":case"boolean":case"number":case"functon":case"undefined":case"null":return e===t}if(n=Object.prototype.toString.call(e),o=Object.prototype.toString.call(t),n!==o)return!1;if("[object Array]"===n){if(e.length!==t.length)return!1;for(s=e.length,r=0;s>r;r++)if(!i.util.deepEqual(e[r],t[r]))return!1}else for(a in e){if(!(a in t))return!1;if(!i.util.deepEqual(e[a],t[a]))return!1}return!0},event:{fire:function(e,t){if("string"!=typeof e)throw new Error("jass.util.event.fire(): incorrect parameters!");return i.util.isArray(t)?void o.pub("/action/client/on/"+e,t):!1},on:function(e,t){if("string"!=typeof e)throw new Error("jass.util.event.on(): incorrect parameters!");return o.sub("/action/client/on/"+e,t)}},extend:function(e,t,n){for(var o in t)n&&(i.util.isPlainObject(t[o])||i.util.isArray(t[o]))?(i.util.isPlainObject(t[o])&&!i.util.isPlainObject(e[o])&&(e[o]={}),i.util.isArray(t[o])&&!i.util.isArray(e[o])&&(e[o]=[]),i.util.extend(e[o],t[o],n)):"undefined"!=typeof t[o]&&(e[o]=t[o]);return e},getID:function(t){if("number"!=typeof t&&"undefined"!=typeof t)throw new Error("jass.util.getID(): incorrect parameters!");for(var n=0,o="",t="number"==typeof t?t:e.jass.env.misc.IDLength,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";t>n;n++)o+=i.substr(Math.floor(Math.random()*i.length),1);return o},hash:{hash:function(e,t){if("undefined"==typeof e)throw new Error("jass.util.hash.hash(): incorrect parameters!");var t="undefined"!=typeof t?t:0;return i.util.hash.murmur3hash32(e,t)},hashFunction:function(e){if("function"!=typeof e&&"string"!=typeof e)throw new Error("jass.util.hash.hashFunction(): incorrect parameters!");return i.util.hash.hash(i.util.normalizeFunction(e))},murmur3hash32:function(e,t){if("string"!=typeof e||"number"!=typeof t)throw new Error("jass.util.hash.murmur3hash32(): incorrect parameters!");var n,o,i,r,s,a,c,d;for(n=3&e.length,o=e.length-n,i=t,s=3432918353,a=461845907,d=0;o>d;)c=255&e.charCodeAt(d)|(255&e.charCodeAt(++d))<<8|(255&e.charCodeAt(++d))<<16|(255&e.charCodeAt(++d))<<24,++d,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295,i^=c,i=i<<13|i>>>19,r=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(d+2))<<16;case 2:c^=(255&e.charCodeAt(d+1))<<8;case 1:c^=255&e.charCodeAt(d),c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295,i^=c}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0},seed:function(){return Math.floor(Math.random()*Date.now())}},isArray:function(e){if("undefined"==typeof e)throw new Error("jass.util.isArray(): incorrect parameters");try{if(!Array.isArray(e))return!1}catch(t){if("[object Array]"!==Object.prototype.toString.call(e))return!1}return!0},isEmpty:function(e){if("undefined"==typeof e)throw new Error("jass.util.isEmpty(): incorrect arguments!");if("boolean"==typeof e||"number"==typeof e)return!1;if(null===e)return!0;if(e.length&&0===e.length)return!0;if(""===e)return!0;if(e instanceof HTMLElement&&""!==e.innerHTML)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isJQueryObject:function(e){return"undefined"!=typeof e&&(e instanceof jQuery||"jquery"in Object(e))?!0:!1},isPlainObject:function(e){return"object"!==i.util.type(e)||e.nodeType||null!=e&&e===e.window?!1:e.constructor&&!e.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},normalizeFunction:function(e){for(var t=["\r\n","\n","\r"," ","	"],n=0,o=t.length;o>n;n++)e=i.util.replaceAll(e,t[n],"");return e},onDocumentReady:function(t){return e.jass.env.events.document.ready?"function"==typeof t&&t():e.jass.env.events.document.contents.push(t)},onWindowLoad:function(t){return e.jass.env.events.window.load?"function"==typeof t&&t():__JASS.fn.util.addEvent(window,"load",function(){t()})},parseOpts:function(){var e={};return location.search.substr(1).split("&").forEach(function(t){e[t.split("=")[0]]=t.split("=")[1]}),e},replaceAll:function(e,t,n){if("undefined"==typeof e||"string"!=typeof t||""===t||"string"!=typeof n)throw new Error("jass.util.replaceAll(): incorrect parameters");for(var o=e.toString(),i="",r=o,s=0,a=-1;(a=r.indexOf(t))>-1;)i+=o.substring(s,s+a)+n,r=r.substring(a+t.length,r.length),s+=a+t.length;return r.length>0&&(i+=o.substring(o.length-r.length,o.length)),i},round:function(e){if("undefined"==typeof e)throw new Error("jass.util.round(): incorrect parameters!");return Math.round(100*(e+1e-5))/100},setCookie:function(t,n,o,i,r,s){if("undefined"==typeof t)throw new Error("jass.util.setCookie(): incorrect parameters!");var o="undefined"!=typeof o?o:0,i="undefined"!=typeof i?i:"/",r="undefined"!=typeof r?r:e.jass.ajax.report.domain,s="undefined"!=typeof s?s:!1,a=new Date(Math.floor((new Date).getTime()+1e3*o)).toUTCString(),c=t+"="+n+(o?"; expires="+a:"")+(i?"; path="+i:"")+(r&&"localhost"!==r?"; domain="+r:"")+(s?"; secure":"");return document.cookie=c},timers:{cancelSetInterval:function(t){if(n.debug("cancelling settimeout/interval"),"function"!=typeof t)throw new Error("jass.util.cancelSetInterval/Timeout: incorrect parameters!");return e.content.timers.push({hash:i.util.hash.hashFunction(t),id:0,sub:null}),!0},cancelSetTimeout:function(){},overrideSetInterval:function(t,o){if(n.debug("overriding settimeout/interval"),"function"!=typeof t||"function"!=typeof o)throw new Error("jass.util.overrideSetInterval/Timeout: incorrect parameters!");return e.content.timers.push({hash:i.util.hash.hashFunction(t),id:0,sub:o}),!0},overrideSetTimeout:function(){}},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e.jass.env.types[Object.prototype.toString.call(t)]||"object":typeof t}}},r=(i.jass.data,function(){return!0}(),{StopGap:function(){var t=function(){this.ticking=!1};return t.prototype.tick=function(){return this.ticking||(this.ticking=!0),n.debug("stopgap tick!"),e.jass.env.stopgap.track.enable||e.jass.env.stopgap.interval>e.jass.env.stopgap.track.threshold&&(e.jass.env.stopgap.track.enable=!0),e.jass.env.stopgap.eventCount>e.jass.env.stopgap.eventLimit&&(e.jass.env.stopgap.enable=!0),e.jass.env.stopgap.eventCount=0,e.content.functions.window.setTimeout.apply(window,[function(){e.jass.env.state.halt||s.stopgap.tick()},1e3*e.jass.env.stopgap.tick.interval])},t}(),UAParser:function(e,t){var n="0.7.1",o="",i="?",r="function",s="undefined",a="object",c="major",d="model",l="name",u="type",f="vendor",p="version",m="architecture",h="console",g="mobile",w="tablet",v="smarttv",y={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},b={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):void 0},lowerize:function(e){return e.toLowerCase()}},j={rgx:function(){for(var e,n,o,i,c,d,l,u=0,f=arguments;u<f.length;u+=2){var p=f[u],m=f[u+1];if(typeof e===s){e={};for(i in m)c=m[i],typeof c===a?e[c[0]]=t:e[c]=t}for(n=o=0;n<p.length;n++)if(d=p[n].exec(this.getUA())){for(i=0;i<m.length;i++)l=d[++o],c=m[i],typeof c===a&&c.length>0?2===c.length?e[c[0]]=typeof c[1]===r?c[1].call(this,l):c[1]:3===c.length?e[c[0]]=typeof c[1]!==r||c[1].exec&&c[1].test?l?l.replace(c[1],c[2]):t:l?c[1].call(this,l,c[2]):t:4===c.length&&(e[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):t):e[c]=l?l:t;break}if(d)break}return e},str:function(e,n){for(var o in n)if(typeof n[o]===a&&n[o].length>0){for(var r=0;r<n[o].length;r++)if(b.has(n[o][r],e))return o===i?t:o}else if(b.has(n[o],e))return o===i?t:o;return e}},E={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,p,c],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],p,c],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[l,p,c],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[l,"IE"],p,c],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],p,c],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],p,c],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[l,p,c],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],p,c],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],p,c],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[p,c,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[p,c,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[c,j.str,y.browser.oldsafari.major],[p,j.str,y.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,p,c],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],p,c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,p,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,f,[u,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[f,"Apple"],[u,w]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[f,"Apple"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,d,[u,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[f,"Amazon"],[u,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,j.str,y.device.amazon.model],[f,"Amazon"],[u,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,f,[u,g]],[/\((ip[honed|\s\w*]+);/i],[d,[f,"Apple"],[u,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,d,[u,g]],[/\((bb10);\s(\w+)/i],[[f,"BlackBerry"],d,[u,g]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7))/i],[[f,"Asus"],d,[u,w]],[/(sony)\s(tablet\s[ps])/i],[f,d,[u,w]],[/(nintendo)\s([wids3u]+)/i],[f,d,[u,h]],[/((playstation)\s[3portablevi]+)/i],[[f,"Sony"],d,[u,h]],[/(sprint\s(\w+))/i],[[f,j.str,y.device.sprint.vendor],[d,j.str,y.device.sprint.model],[u,g]],[/(Lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[[f,"Lenovo"],d,[u,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[d,/_/g," "],[u,g]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[f,"Motorola"],d,[u,g]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[f,"Motorola"],d,[u,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],d,[u,w]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],d,[u,g]],[/(sie)-(\w+)*/i],[[f,"Siemens"],d,[u,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],d,[u,g]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[f,"Acer"],d,[u,w]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],d,[u,w]],[/(lg) netcast\.tv/i],[f,[u,v]],[/((nexus\s[45]))/i,/(lg)[e;\s\/-]+(\w+)*/i],[[f,"LG"],d,[u,g]],[/android.+((ideatab[a-z0-9\-\s]+))/i],[[f,"Lenovo"],d,[u,w]],[/linux;.+((jolla));/i],[f,d,[u,g]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[u,b.lowerize],f,d]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]+).*(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,j.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,j.str,y.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,p],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[p,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[l,[p,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[l,p]]},A=function(t,n){if(!(this instanceof A))return new A(t,n).getResult();
var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:o),r=n?b.extend(E,n):E;this.getBrowser=function(){return j.rgx.apply(this,r.browser)},this.getCPU=function(){return j.rgx.apply(this,r.cpu)},this.getDevice=function(){return j.rgx.apply(this,r.device)},this.getEngine=function(){return j.rgx.apply(this,r.engine)},this.getOS=function(){return j.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return A.VERSION=n,A.BROWSER={NAME:l,MAJOR:c,VERSION:p},A.CPU={ARCHITECTURE:m},A.DEVICE={MODEL:d,VENDOR:f,TYPE:u,CONSOLE:h,MOBILE:g,SMARTTV:v,TABLET:w},A.ENGINE={NAME:l,VERSION:p},A.OS={NAME:l,VERSION:p},A}(window)}),s={},a=function(){var t=function(){var t=function(e,t){return"string"==typeof e&&"true"===e?4:(e=+e,"number"==typeof e&&e>0?e:t===!0?4:0)};if(e.jass.env.params=i.util.parseOpts(),e.jass.env.params.jass_nocall&&(e.jass.env.state.nocall=!0),e.jass.env.params.jass_nonotify&&(e.jass.env.state.nonotify=!0),e.jass.env.params.jass_nofix&&(e.jass.env.state.nofix=!0),e.jass.env.params.jass_local&&(e.jass.env.state.local=!0),e.jass.env.params.jass_fix&&(e.jass.env.state.fix=e.jass.env.params.jass_fix),e.jass.env.params.jass_loglevel){var a=+e.jass.env.params.jass_loglevel;n.loglevel(e.jass.env.log.level="number"==typeof a?a>5?5:0>a?0:a:3)}""===location.hostname&&"undefined"!=typeof window.mochaPhantomJS&&n.loglevel(0),e.jass.env.params.jass_stopgap&&(e.jass.env.state.stopgap=!0),e.jass.env.params.jass_test&&(e.jass.env.state.test=!0),e.jass.env.params.jass_timestamp&&(e.jass.env.log.timestamp=!0),e.jass.env.params.jass_unittest&&(e.jass.env.state.unittest=!0);var c=!0;if(e.jass.env.params.jass_dev||e.jass.env.params.jass_development?(e.jass.env.state.dev=!0,n.debug("-=< DEVELOPMENT MODE >=- [expect the unexpected] (debug verbosity: "+e.jass.env.log.level+")")):(c=!1,e.jass.env.state.debug>0&&n.debug("-=< DEBUG MODE >=- (debug verbosity: "+e.jass.env.log.level+")")),e.jass.env.state.debug=t(e.jass.env.params.jass_debug,c),""!==location.hostname&&"undefined"==typeof window.mochaPhantomJS&&(e.jass.env.ref=i.client.getLocation()),e.jass.env.params.jass_kill||e.jass.env.params.jass_disable)return i.jass.admin.die();n.log("Initializing JASS v"+e.jass.env.version+"..."),e.client.build=e.jass.env.timestamp=e.jass.env.stats.timestamps.up=Math.round((new Date).getTime()/1e3),"undefined"==typeof window.__JASS_DATA.fixes&&(window.__JASS_DATA.fixes={}),e.jass.fixes.headCodeLoaded="undefined"!=typeof window.__JASS_DATA.fixes.headCodeLoaded?window.__JASS_DATA.fixes.headCodeLoaded:window.__JASS_DATA.fixes.headCodeLoaded=!1,e.jass.fixes.headDomainLoaded="undefined"!=typeof window.__JASS_DATA.fixes.headDomainLoaded?window.__JASS_DATA.fixes.headDomainLoaded:window.__JASS_DATA.fixes.headDomainLoaded=!1,e.jass.env.prefix=i.client.getPrefix(),n.debug("Caching common core functions...");var d=document.createElement("iframe");d.style.display="none",d.id="jass-script-head-sandbox";var l=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];l.appendChild(d),e.content.functions.JSON.parse="function"!=typeof window.JSON.parse?d.contentWindow.JSON.parse:window.JSON.parse,e.content.functions.JSON.stringify="function"!=typeof window.JSON.stringify?d.contentWindow.JSON.stringify:window.JSON.stringify,e.content.functions.xhr.open="function"!=typeof XMLHttpRequest.prototype.open?d.contentWindow.XMLHttpRequest.prototype.open:XMLHttpRequest.prototype.open,e.content.functions.xhr.send="function"!=typeof XMLHttpRequest.prototype.send?d.contentWindow.XMLHttpRequest.prototype.send:XMLHttpRequest.prototype.send,e.content.functions.window.setInterval="function"!=typeof window.setInterval?d.contentWindow.setInterval:window.setInterval,e.content.functions.window.setTimeout="function"!=typeof window.setTimeout?d.contentWindow.setTimeout:window.setTimeout,e.jass.env.state.stopgap&&(s.stopgap=new r.StopGap,s.stopgap.tick()),o.sub("/action/request/response",i.jass.throttle),s.ua=new r.UAParser,i.client.getClientUserAgent(),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n;if(null==this)throw new TypeError("jass (unhelpful errmsg): this is null or undefined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError("jass (unhelpful errmsg): callback is not a function");arguments.length>1&&(n=t);for(var r=0;i>r;r++){var s;r in o&&(s=o[r],e.call(n,s,r,o))}}),["forEach","map","filter","reduce","reduceRight","every","some"].forEach(function(e){NodeList.prototype[e]=HTMLCollection.prototype[e]=Array.prototype[e]}),"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(function(t){e.jass.env.types["[object "+t+"]"]=t.toLowerCase()}),e.client.isIE||l.removeChild(d),o.pub("/component/core/environment/init/done",[])},a=function(){var t=function(){n.debug("Initializing overrides..."),window.setInterval=function(){var t=(i.util.hash.hashFunction(arguments[0]),e.content.functions.window.setInterval.apply(window,arguments)),n={jassEventName:"setInterval"};return i.jass.trigger(n,arguments),t},window.setTimeout=function(){var t=(i.util.hash.hashFunction(arguments[0]),e.content.functions.window.setTimeout.apply(window,arguments)),n={jassEventName:"setTimeout"};return i.jass.trigger(n,arguments),t},XMLHttpRequest.prototype.open=function(){var t=e.content.functions.xhr.open.apply(this,arguments),n={jassEventName:"XMLHttpRequest_open"};return i.jass.trigger(n,arguments),t},XMLHttpRequest.prototype.send=function(){var t=e.content.functions.xhr.send.apply(this,arguments),n={jassEventName:"XMLHttpRequest_send"};return i.jass.trigger(n,arguments),t},o.pub("/component/core/original/init/done",[])};return{init:t}}(),c=function(){n.debug("Initializing additional overrides..."),o.pub("/component/core/overrides/init/done",[])},d=function(){n.debug("Initializing listeners...");var e=function(e){var e="object"==typeof e?e:window.event,t=e.target;e.jassEventName="DOMNodeInserted";var n=i.content.serialize(t);i.jass.trigger(e,n)},t=function(e){var e="object"==typeof e?e:window.event,t=e.target;e.jassEventName="DOMNodeRemoved";var n=i.content.serialize(t);i.jass.trigger(e,n)},r=function(e){var e="object"==typeof e?e:window.event,t=e.target;e.jassEventName="DOMSubtreeModified";var n=i.content.serialize(t);i.jass.trigger(e,n)};i.util.addEvent(document,"DOMNodeInserted",e),i.util.addEvent(document,"DOMNodeRemoved",t),i.util.addEvent(document,"DOMSubtreeModified",r),o.sub("/action/forceupdate/init",function(){o.pub("/action/forceupdate/this/close/init",[])}),o.sub("/action/forceupdate/this/close/init",i.jass.admin.close),o.sub("/action/forceupdate/this/close/done",function(){o.pub("/action/forceupdate/that/load/init",[])}),o.sub("/action/forceupdate/that/load/init",i.jass.admin.load),o.sub("/action/forceupdate/that/load/done",function(){o.pub("/action/forceupdate/kill/init",[])}),o.sub("/action/forceupdate/kill/init",i.jass.admin.kill),o.sub("/action/forceupdate/kill/done",function(){o.pub("/action/forceupdate/done",[])}),o.sub("/action/trigger/DOMNodeInserted",i.jass.react),o.sub("/action/trigger/DOMNodeRemoved",i.jass.react),o.sub("/action/trigger/DOMSubtreeModified",i.jass.react),o.sub("/action/trigger/setInterval",i.jass.react),o.sub("/action/trigger/setTimeout",i.jass.react),o.sub("/action/trigger/XMLHttpRequest_open",i.jass.react),o.sub("/action/trigger/XMLHttpRequest_send",i.jass.react),o.pub("/component/core/listeners/init/done",[])};return{environment:t,unittest:l,original:a,overrides:c,listeners:d}}(),c=function(){var t=function(){if(e.jass.fixes.headCodeLoaded)return n.debug("Code hotfix(es) already loaded! Skipping..."),o.pub("/component/fix/code/init/done",[]);for(var t=function(e){n.debug("Applying for code hotfix!"),i.jass.getFixes("headCode",e,function(e){return"undefined"==typeof e?!0:void i.content.createElement("script",{type:"text/javascript",id:"script-jass-code-fix-"+i.util.getID(4),className:"script-jass-head-code-fix",innerHTML:e},document.getElementsByTagName("head")[0])})},r=[{code:function(){return!!e.jass.env.state.fix},name:e.jass.env.state.fix},{code:function(){return document.getElementsByClassName("vegas-loading").length?!0:!1},name:"jquery.vegas"}],s=0,a=r.length;a>s;s++)r[s].code()===!0&&t(r[s].name);"undefined"==typeof window.__JASS_DATA.fixes&&(window.__JASS_DATA.fixes={}),window.__JASS_DATA.fixes.headCodeLoaded=e.jass.fixes.headCodeLoaded=!0,o.pub("/component/fix/head/code/init/done",[])},r=function(){return e.jass.fixes.headDomainLoaded?(n.debug("Domain hotfix already loaded! Skipping..."),o.pub("/component/fix/domain/init/done",[])):(n.debug("Applying for domain hotfix!"),i.jass.getFixes("headDomain",e.jass.env.state.fix?e.jass.env.state.fix:e.jass.ajax.report.domain,function(e){return"undefined"==typeof e?!0:void i.content.createElement("script",{type:"text/javascript",id:"script-jass-head-domain-fix",innerHTML:e},document.getElementsByTagName("head")[0])}),"undefined"==typeof window.__JASS_DATA.fixes&&(window.__JASS_DATA.fixes={}),window.__JASS_DATA.fixes.headDomainLoaded=e.jass.fixes.headDomainLoaded=!0,void o.pub("/component/fix/head/domain/init/done",[]))};return{head:{code:t,domain:r}}}(),d=function(){n.debug("initiating tick..."),document.onreadystatechange=function(){"interactive"===document.readyState},i.util.addEvent(window,"load",function(){e.jass.env.state.reportUA===!0&&i.content.reportDimensions()}),n.log("[head] execution completed...")},l=function(){window.mochaPhantomJS||(n.loglevel(5),n.debug("Defining unit tests...")),__JASS.__test.tests(__JASS)};!function(){if(o.sub("/component/unittest/init",l),o.sub("/component/core/environment/init",a.environment),o.sub("/component/core/original/init",a.original.init),o.sub("/component/core/overrides/init",a.overrides),o.sub("/component/core/listeners/init",a.listeners),o.sub("/component/fix/head/domain/init",c.head.domain),o.sub("/component/fix/head/code/init",c.head.code),o.sub("/component/afterburn/init",d),location&&location.hostname&&location.pathname){var e=location.hostname.match(/^(?:www\.)?(localhost)/),t=location.pathname.match(/^(\/test.html)/),n=null!==e&&e[1]&&null!==t&&t[1];n?o.sub("/component/boot/done",function(){}):(o.sub("/component/boot/done",function(){o.pub("/component/core/environment/init",[])}),o.sub("/component/core/environment/init/done",function(){o.pub("/component/core/original/init",[])}),o.sub("/component/core/original/init/done",function(){o.pub("/component/core/overrides/init",[])}),o.sub("/component/core/overrides/init/done",function(){o.pub("/component/core/listeners/init",[])}),o.sub("/component/core/listeners/init/done",function(){o.pub("/component/fix/head/domain/init",[])}),o.sub("/component/fix/head/domain/init/done",function(){o.pub("/component/fix/head/code/init",[])}),o.sub("/component/fix/head/code/init/done",function(){o.pub("/component/afterburn/init",[])}))}else o.sub("/component/boot/done",function(){o.pub("/component/core/environment/init")}),o.sub("/component/core/environment/init/done",function(){o.pub("/component/core/listeners/init")}),o.sub("/component/core/listeners/init/done",function(){});o.pub("/component/boot/done")}()}return{$:t,__:{head:{message:i.jass.message},tail:{}},__test:{run:function(){o.pub("/component/unittest/init")},tests:{}},admin:{data:e},client:{mobile:e.client.mobile,platform:e.client.platform,tablet:e.client.tablet,ua:e.client.useragent,useragent:e.client.useragent},content:i.content,data:e,fn:i,isChrome:function(){return i.client.isChrome()},isDesktop:function(){return i.client.isDesktop()},isFirefox:function(){return i.client.isFirefox()},isIE:function(){return i.client.isIE()},isMobile:function(){return i.client.isMobile()},isTablet:function(){return i.client.isTablet()},disablePadLinks:function(){e.jass.env.cooties.disable=!0},fire:i.util.event.fire,o:s,on:i.util.event.on,onElementByClassName:i.content.onElementByClassName,onElementById:i.content.onElementById,onWindowLoad:i.util.onWindowLoad,onDocumentReady:i.util.onDocumentReady,preventElementById:i.content.preventElementById,preventElementByClassName:i.content.preventElementByClassName,reload:e.client.reload,removeElementById:i.content.removeElementById,removeElementByClassName:i.content.removeElementByClassName,timers:{cancelSetInterval:i.util.timers.cancelSetInterval,cancelSetTimeout:i.util.timers.cancelSetInterval,overrideSetInterval:i.util.timers.overrideSetInterval,overrideSetTimeout:i.util.timers.overrideSetInterval},util:i.util}}();